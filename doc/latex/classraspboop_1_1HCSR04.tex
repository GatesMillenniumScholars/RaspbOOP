\hypertarget{classraspboop_1_1HCSR04}{\section{raspboop\-:\-:H\-C\-S\-R04 Class Reference}
\label{classraspboop_1_1HCSR04}\index{raspboop\-::\-H\-C\-S\-R04@{raspboop\-::\-H\-C\-S\-R04}}
}


Ultrasonic distance sensor.  




{\ttfamily \#include $<$H\-C\-S\-R04.\-h$>$}

Inheritance diagram for raspboop\-:\-:H\-C\-S\-R04\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classraspboop_1_1HCSR04}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classraspboop_1_1HCSR04_ab25ac4ca02a3a3e3b00d0df95c58f447}{Sense} ()
\begin{DoxyCompactList}\small\item\em Performs the sensor's sensing operation. \end{DoxyCompactList}\item 
float \hyperlink{classraspboop_1_1HCSR04_ad242d219ab8b6adbf1d684416ba47cb9}{Get\-Distance} () const 
\begin{DoxyCompactList}\small\item\em Get the distance calculated from the sensor. \end{DoxyCompactList}\item 
\hypertarget{classraspboop_1_1HCSR04_af82593e779415b2ec0b5820f45901187}{\hyperlink{classraspboop_1_1HCSR04_af82593e779415b2ec0b5820f45901187}{$\sim$\-H\-C\-S\-R04} ()}\label{classraspboop_1_1HCSR04_af82593e779415b2ec0b5820f45901187}

\begin{DoxyCompactList}\small\item\em \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04} Destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04} $\ast$ \hyperlink{classraspboop_1_1HCSR04_a7e89b5599fc715d1c903ff69f8aa2665}{Create} (int E\-C\-H\-O, int T\-R\-I\-G)
\begin{DoxyCompactList}\small\item\em Create a usable \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04} object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classraspboop_1_1HCSR04_a194e41e6234c6c81bb9b022dc16b98ac}{Release\-Pins} ()
\begin{DoxyCompactList}\small\item\em Sets the mode of all pins to an inactive state. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Ultrasonic distance sensor. 

The \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04} is an ultrasonic distance sensor. By emitting an ultrasonic sound, the distance between the sensor and another object can be calculated through the formula\-:

d = t $\ast$ 340 /2

where, {\itshape d} is distance in meters, {\itshape t} is time in seconds, {\itshape 340} is the speed of sound in m/s

We divide by two because the sound had to travel back to the sensor.

\subsection*{Helpful information }


\begin{DoxyItemize}
\item The sensor has 4 pins
\begin{DoxyItemize}
\item {\bfseries Vcc} input 5\-V here
\item {\bfseries Trig} Input used to tell the sensor when to send the sound
\item {\bfseries Echo} The output from the sensor
\item {\bfseries G\-N\-D} Connect this to ground
\end{DoxyItemize}
\end{DoxyItemize}

{\bfseries I\-M\-P\-O\-R\-T\-A\-N\-T I\-N\-F\-O\-R\-M\-A\-T\-I\-O\-N\-:} The Raspberry Pi's pins operate at 3\-V3 volt logic. This means that you must use a voltage divider on the Echo pin when reading in a value. I recommend using two resistors whose values are 1.\-5x apart. For more detailed instructions on how to do this, visit\-: \href{http://www.bytecreation.com/blog/2013/10/13/
 raspberry-pi-ultrasonic-sensor-hc-sr04}{\tt bytecreation.\-com}

\begin{TabularC}{2}
\hline
\rowcolor{lightgray}{\bf Quick Stats }&{\bf Value  }\\\cline{1-2}
Operating Voltage &{\bfseries 5\-V} \\\cline{1-2}
Operating Current &{\bfseries 15 m\-A} \\\cline{1-2}
Soundwave frequency &{\bfseries 40 Hz} \\\cline{1-2}
Maximum distance &{\bfseries 4m} \\\cline{1-2}
Minimum distance &{\bfseries 2 cm} \\\cline{1-2}
Required Trigger pulse &{\bfseries 10us (microseconds) H\-I\-G\-H signal} \\\cline{1-2}
\end{TabularC}


\subsubsection*{External links }

\href{http://users.ece.utexas.edu/~valvano/Datasheets/
HCSR04b.pdf}{\tt Datasheet}

\href{http://www.bytecreation.com/blog/2013/10/13/
raspberry-pi-ultrasonic-sensor-hc-sr04}{\tt Blog post\-:} Good article that details the steps necessary to use this sensor with a raspberry pi and a voltage divider. 

\subsection{Member Function Documentation}
\hypertarget{classraspboop_1_1HCSR04_a7e89b5599fc715d1c903ff69f8aa2665}{\index{raspboop\-::\-H\-C\-S\-R04@{raspboop\-::\-H\-C\-S\-R04}!Create@{Create}}
\index{Create@{Create}!raspboop::HCSR04@{raspboop\-::\-H\-C\-S\-R04}}
\subsubsection[{Create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf H\-C\-S\-R04} $\ast$ raspboop\-::\-H\-C\-S\-R04\-::\-Create (
\begin{DoxyParamCaption}
\item[{int}]{E\-C\-H\-O, }
\item[{int}]{T\-R\-I\-G}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classraspboop_1_1HCSR04_a7e89b5599fc715d1c903ff69f8aa2665}


Create a usable \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04} object. 

To properly create an object in raspboop, you must use its factory \hyperlink{classraspboop_1_1HCSR04_a7e89b5599fc715d1c903ff69f8aa2665}{Create()} method. The factory method initializes the \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04}'s pins using the \hyperlink{classraspboop_1_1Sensor_ad0b3f0fa153803108613e3c3da574571}{Set\-Input\-Pin()} and \hyperlink{classraspboop_1_1Sensor_a893f7ad09018028fdb9e10f0bcbeccf9}{Set\-Output\-Pin()} methods inherited from \hyperlink{classraspboop_1_1Sensor}{Sensor}.


\begin{DoxyParams}{Parameters}
{\em E\-C\-H\-O} & The input pin designated to read the sensors E\-C\-H\-O output \\
\hline
{\em T\-R\-I\-G} & The output pin that initiates sensing\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to an \hyperlink{classraspboop_1_1HCSR04}{H\-C\-S\-R04} object with all pins initialized 
\end{DoxyReturn}
\hypertarget{classraspboop_1_1HCSR04_ad242d219ab8b6adbf1d684416ba47cb9}{\index{raspboop\-::\-H\-C\-S\-R04@{raspboop\-::\-H\-C\-S\-R04}!Get\-Distance@{Get\-Distance}}
\index{Get\-Distance@{Get\-Distance}!raspboop::HCSR04@{raspboop\-::\-H\-C\-S\-R04}}
\subsubsection[{Get\-Distance}]{\setlength{\rightskip}{0pt plus 5cm}float raspboop\-::\-H\-C\-S\-R04\-::\-Get\-Distance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classraspboop_1_1HCSR04_ad242d219ab8b6adbf1d684416ba47cb9}


Get the distance calculated from the sensor. 

\begin{DoxyReturn}{Returns}
A float representing the distance sensed in centimeters 
\end{DoxyReturn}
\hypertarget{classraspboop_1_1HCSR04_a194e41e6234c6c81bb9b022dc16b98ac}{\index{raspboop\-::\-H\-C\-S\-R04@{raspboop\-::\-H\-C\-S\-R04}!Release\-Pins@{Release\-Pins}}
\index{Release\-Pins@{Release\-Pins}!raspboop::HCSR04@{raspboop\-::\-H\-C\-S\-R04}}
\subsubsection[{Release\-Pins}]{\setlength{\rightskip}{0pt plus 5cm}void raspboop\-::\-H\-C\-S\-R04\-::\-Release\-Pins (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classraspboop_1_1HCSR04_a194e41e6234c6c81bb9b022dc16b98ac}


Sets the mode of all pins to an inactive state. 

All children must call this method when it becomes out of scope, preferably in the destructor. This is necessary so that there are never any G\-P\-I\-O pins unnecessarily set to {\itshape H\-I\-G\-H} 

Implements \hyperlink{classraspboop_1_1GPIOConsumer_a97b06b9afddfb338fb87cb7338c910de}{raspboop\-::\-G\-P\-I\-O\-Consumer}.

\hypertarget{classraspboop_1_1HCSR04_ab25ac4ca02a3a3e3b00d0df95c58f447}{\index{raspboop\-::\-H\-C\-S\-R04@{raspboop\-::\-H\-C\-S\-R04}!Sense@{Sense}}
\index{Sense@{Sense}!raspboop::HCSR04@{raspboop\-::\-H\-C\-S\-R04}}
\subsubsection[{Sense}]{\setlength{\rightskip}{0pt plus 5cm}void raspboop\-::\-H\-C\-S\-R04\-::\-Sense (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classraspboop_1_1HCSR04_ab25ac4ca02a3a3e3b00d0df95c58f447}


Performs the sensor's sensing operation. 

This method will retrieve a value from the environment by performing G\-P\-I\-O operations on the input and output pins of the sensor. The value from the sensor will be available through an accessor method. 

Implements \hyperlink{classraspboop_1_1Sensor_ab854a10682373803a310c078bb71aacf}{raspboop\-::\-Sensor}.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/raspboop/sensors/H\-C\-S\-R04.\-h\item 
src/sensors/H\-C\-S\-R04.\-cpp\end{DoxyCompactItemize}
